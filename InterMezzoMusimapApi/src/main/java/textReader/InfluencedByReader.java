package textReader;

import DNA.Chunk;
import DNA.InfluencingChunk;

public class InfluencedByReader extends AbstractReader {

	String str = "Array ( [total] => 28 [limit] => 3 [offset] => 0 [results] => Array ( [0] => Array ( [uid] => 54E03315-56C7-5E53-52CE-9626F9BF6AFF [nickname] => Placebo [realname] => Brian Molko, Stefan Olsdal & Robert Schultzberg [gender] => band [website] => http://www.placeboworld.co.uk [date_of_birth] => 00/00/1994 [place_of_birth] => London [date_of_death] => [place_of_death] => [references] => Array ( [0] => Array ( [source] => Facebook [values] => Array ( [0] => officialplacebo [1] => 55339791254 ) ) [1] => Array ( [source] => iTunes [values] => Array ( [0] => 649817 ) ) [2] => Array ( [source] => BandPageTour [values] => Array ( [0] => 12333904078049280 ) ) [3] => Array ( [source] => BandPage [values] => Array ( [0] => 12333904078049280 ) ) [4] => Array ( [source] => Last.FM [values] => Array ( [0] => https://www.last.fm/fr/music/Placebo ) ) [5] => Array ( [source] => Spotify [values] => Array ( [0] => 43stuLIinn8c0meBNQ9A82 [1] => 6RZUqkomCmb8zCRqc9eznB ) ) [6] => Array ( [source] => Twitter [values] => Array ( [0] => https://twitter.com/placeboworld [1] => placeboworld ) ) [7] => Array ( [source] => Youtube [values] => Array ( [0] => https://www.youtube.com/user/officialplacebo ) ) [8] => Array ( [source] => Qobuz [values] => Array ( [0] => 2415195 [1] => 2314695 [2] => 43837 ) ) [9] => Array ( [source] => AllMusic [values] => Array ( [0] => mn0000355412 ) ) [10] => Array ( [source] => Wikipedia [values] => Array ( [0] => https://en.wikipedia.org/wiki/Placebo_(band) ) ) [11] => Array ( [source] => Deezer [values] => Array ( [0] => 8 ) ) [12] => Array ( [source] => 7Digital [values] => Array ( [0] => 23 ) ) [13] => Array ( [source] => Discogs [values] => Array ( [0] => 9436 ) ) [14] => Array ( [source] => MusicBrainz [values] => Array ( [0] => 847e8284-8582-4b0e-9c26-b042a4f49e57 ) ) [15] => Array ( [source] => MusicStory [values] => Array ( [0] => http://www.music-story.com/placebo ) ) [16] => Array ( [source] => Echonest [values] => Array ( [0] => AR6892W1187B9AC71B ) ) ) [score] => 100 ) [1] => Array ( [uid] => E4E8168E-79E7-7503-C95B-D5C98155EA01 [nickname] => Colin Blunstone [realname] => Colin Edward Michael Blunstone [gender] => male [website] => http://www.colinblunstone.co.uk/ [date_of_birth] => [place_of_birth] => England [date_of_death] => [place_of_death] => [references] => Array ( [0] => Array ( [source] => Spotify [values] => Array ( [0] => 27DCwiPx5ocQsf4K43SlIL ) ) [1] => Array ( [source] => Qobuz [values] => Array ( [0] => 71536 ) ) [2] => Array ( [source] => AllMusic [values] => Array ( [0] => mn0000776562 ) ) [3] => Array ( [source] => Deezer [values] => Array ( [0] => 9860 ) ) [4] => Array ( [source] => Discogs [values] => Array ( [0] => 205031 ) ) [5] => Array ( [source] => Echonest [values] => Array ( [0] => ARB7BE11187B9B64E9 ) ) [6] => Array ( [source] => MusicStory [values] => Array ( [0] => http://www.music-story.com/colin-blunstone ) ) ) [score] => 84.21 ) [2] => Array ( [uid] => 774A36BC-A991-8A18-3838-2F54E5D2328E [nickname] => Rune Riley Kölsch [realname] => Rune RK (Rune Reilly Kølsch) [gender] => male [website] => [date_of_birth] => 00/00/1977 [place_of_birth] => Denmark [date_of_death] => [place_of_death] => [references] => Array ( [0] => Array ( [source] => Discogs [values] => Array ( [0] => 930250 [1] => 147124 [2] => 180238 [3] => 180238 [4] => 180238 [5] => 539297 [6] => 688469 [7] => 129676 [8] => 3322 [9] => 1989806 [10] => 1989806 [11] => 574584 ) ) [1] => Array ( [source] => Wikipedia [values] => Array ( [0] => https://en.wikipedia.org/wiki/Rune_RK [1] => https://en.wikipedia.org/wiki/Artificial_Funk ) ) [2] => Array ( [source] => Spotify [values] => Array ( [0] => 32ejcIBfk6cbs473H0LlBE [1] => 4fMvqvWEhtBFDRERY3GUdu [2] => 7AgK0aK3VZbtTlzWVE8WSX [3] => 2D9Oe8R9UhbMvFAsMJpXj0 ) ) [3] => Array ( [source] => 7Digital [values] => Array ( [0] => 282997 [1] => 98951 [2] => 2063898 [3] => 934082 ) ) [4] => Array ( [source] => MusicBrainz [values] => Array ( [0] => 50178991-f646-4538-9a53-5fc5086d7a92 [1] => f9fda8f8-0b61-40ef-b79e-4802264256e2 [2] => 556ee13f-1ef3-4cf0-a11e-1c71aff962d4 ) ) [5] => Array ( [source] => Facebook [values] => Array ( [0] => 187217811307777 [1] => 104640656291263 ) ) [6] => Array ( [source] => Echonest [values] => Array ( [0] => AR3DWZM1187B9AA65F [1] => ARHFLHY1187FB47FB9 [2] => ARZAYOL1272BA85D14 [3] => ARYKXKD122BCFCB13E [4] => ARHFLHY1187FB47FB9 [5] => AR9AHHW1187FB4F0B2 [6] => ARZIQGM133EFAF7BF6 [7] => ARZCYD91187FB4F0B1 [8] => ARXOJGV1187FB4F0AF [9] => ARIOCVV12BEF24FC87 [10] => ARJA29V1187FB56A1A [11] => ARJA29V1187FB56A1A ) ) [7] => Array ( [source] => AllMusic [values] => Array ( [0] => mn0000302025 [1] => mn0002563549 ) ) [8] => Array ( [source] => Qobuz [values] => Array ( [0] => 594532 [1] => 966339 [2] => 723986 [3] => 257204 [4] => 1552917 [5] => 1038453 [6] => 217075 [7] => 1101223 [8] => 1306327 ) ) [9] => Array ( [source] => Deezer [values] => Array ( [0] => 1371499 [1] => 251600 [2] => 11421 [3] => 251591 ) ) [10] => Array ( [source] => Twitter [values] => Array ( [0] => runerk ) ) [11] => Array ( [source] => iTunes [values] => Array ( [0] => 319272560 ) ) ) [score] => 47.37 ) ) )";

	@Override
	public Chunk[] readChunk(String strToRead) {
		Chunk[] toReturn = new Chunk[3];
		String influencing;
		influencing = strToRead.substring(strToRead.lastIndexOf(" \\\"results\\\": ") + 1);
		for(int i = 0; i < 3 ; i++) {
			influencing = influencing.substring(influencing.indexOf("\"uid\":\"")+ "\"uid\":\"".length());
			//removing everything from what we want to assign
			String UID = influencing.substring(0, influencing.indexOf("\",\""));
			influencing = influencing.substring(influencing.indexOf("\"nickname\":")+ 12);
			//creating new empty mood
			String influencingToAssign = influencing.substring(0, influencing.indexOf("\""));
			//removing the mood we used
			influencing = influencing.substring(influencing.indexOf("\"score\":") + 8);
			String influencingScore = influencing.substring(0, influencing.indexOf("}"));
			System.out.println(influencingToAssign);
			System.out.println(influencingScore);
			toReturn[i] = new InfluencingChunk(influencingToAssign,UID,  influencingScore);
		}
		
		return toReturn;
	}

}
